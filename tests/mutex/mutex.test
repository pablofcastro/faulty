
Global s:BOOL;

Process Process1{

nc : BOOL;
c : BOOL;
w : BOOL;
d : BOOL;

//Initial : c == false && nc == true && w == false && d == false;
Initial: !c && nc && !w && !d;
Normative : d == false;

[Waiting] nc == true && d == false -> w = true, nc = false;
[EnterCS] w == true && s == false && d == false  -> w = false, c = true, s = true;
[ExitCS] c == true && d == false -> c = false, nc = true, s = false;
[Down] faulty d == false -> d = true;
[Down] faulty d == true -> d = true;
[Recover] d == true -> d = false; 
}

Process Process2{

nc : BOOL;
c : BOOL;
w : BOOL;
d : BOOL;

//Initial : c == false && nc == true && w == false && d == false;
Initial: !c && nc && !w && !d;
Normative : d == false;

[Waiting] nc == true && d == false -> w = true, nc = false;
[EnterCS] w == true && s == false && d == false  -> w = false, c = true, s = true;
[ExitCS] c == true && d == false -> c = false, nc = true, s = false;
[Down] faulty d == false -> d = true;
[Down] faulty d == true -> d = true;
[Recover] d == true -> d = false; 
	
}

Main(){

p1:Process1;
p2:Process2;

run p1();
run p2();

}

